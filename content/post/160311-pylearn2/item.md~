---
title: Anaconda3/pylearn2 を Mac で使う
date: 03/11/2016
published: true
mathjax: false
taxonomy:
  category: comp
  tag: [python, mac]
---

## Anaconda3/pylearn2をMacにインストール

Anacondaとpylearn2のインストールの仕方を卒論生に教わった。
こういう卒論生が増えてくれると頼もしい。
でも，Macにインストールしようとしたら色々と苦労したので，インストール方法を忘れないうちにメモ。
ちなみに，google で pylearn2 を引っ掛けると山のように検索結果が出てくる。
「ちょっとディープラーニングでも」と遊べる環境がすぐ整うのは素晴らしい。

- [Anaconda](https://www.continuum.io/why-anaconda)
	- pythonとデータ解析モジュールのセット
	- python も入ってるので homebrew 等でpythonを入れておく必要は無い。すでに入れてしまっていても anaconda 環境下のpythonを使うように設定できる。
- [pylearn2](http://deeplearning.net/software/pylearn2/)
	- 言わずもがななディープラーニングのモジュール

## Anaconda3のインストール


```
$ brew install pyenv 
```
pyenv の設定のため，`.bashrc`か`.bash_profile` に以下を追加してパス設定する。
```
export PATH=$HOME/.pyenv/shims:$PATH
```
2. [Anaconda](https://www.continuum.io/why-anaconda)をインストール
```
$ pyenv install anaconda3-2.5.0	# anaconda3-2.5.0 の python  は version 3.5.1
$ pyenv rehash
$ pyenv global anaconda3-2.5.0	# anaconda3-2.5.0をデフォルトに設定
$ conda update conda			# パッケージのアップデート
```

pythonのモジュールは一般に`pip`コマンドで管理するが，anaconda 環境の python モジュールは`conda`で管理する。`conda` の使い方は下の方に。

無事インストールできたかは以下で確認できる。
```
$ pyenv versions
  system
* anaconda3-2.5.0 (set by /Users/jun/.pyenv/version)
$ which python
/Users/jun/.pyenv/shims/python
$ python --version
Python 3.5.1 :: Anaconda 2.5.0 (x86_64)
```

## pylearn2のインストール

### 準備: Theanoのインストール

[Theano](http://deeplearning.net/software/theano/)は行列計算等を高速に行うモジュール。pylearn2を使うには開発版をインストールする必要があるらしい。conda ではモジュールが無いみたい(Linuxではあるみたいだが)なので，[Theanoのインストール方法](http://deeplearning.net/software/theano/install.html#anaconda)の指示に従って，`pip`コマンドでインストール。

```
$ pip install --upgrade --no-deps git+git://github.com/Theano/Theano.git
```

### Pylearn2のインストール

```
$ git clone git://github.com/lisa-lab/pylearn2.git
$ cd pylearn2
$ python setup.py build
$ python setup.py install
```

### パスの設定
```
$ cat .bash_profile
export PYTHONPATH=$PYTHONPATH:<path to pylearn2>
```

## おまけ: conda の使い方
conda は anaconda に入っている python のモジュールを管理するツール。

- `conda info -e` : デフォルトの python の環境を表示
- `conda list` : インストールされているモジュール一覧
- `conda search <module>` : 利用できるモジュールのバージョン情報
- `conda install <module>` : モジュールのインストール
- `conda update conda` : conda コマンドの更新

pip　にはあるが，condaには無いモジュールを conda モジュールにしてしまう方法
```
$ conda skeleton pypi PACKAGE
$ conda build PACKAGE
```